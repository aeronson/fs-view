<div id="main">
  <div id="file-block">
    <button (click)="selectFolder()">Select Folder</button>
    <input type="text" [(ngModel)]="selectedFolder" readonly>
    <div id="file-list">
      <select [size]="files.length" [(ngModel)]="selectedFile" *ngIf="files.length" (change)="loadVideo()">
        <option *ngFor="let f of files" [value]="getFileName(f)">{{getFileName(f)}}</option>
      </select>
    </div>
  </div>
  <div id="video-block" *ngIf="selectedFile">
    <div class="video-container">
      <video #videoRef *ngIf="videoSrc" [src]="videoSrc" muted (ended)="autoNext()"
        (loadeddata)="onLoadedData()" (loadedmetadata)="onLoadedMetadata()"></video>
    </div>
    <input type="range" [min]="0" [max]="videoDuration" [(ngModel)]="currentTime" (input)="seekVideo()" *ngIf="videoDuration > 0">
    <div class="video-controls">
      <button (click)="play()">Play</button>
      <button (click)="pause()">Pause</button>
      <button (click)="restart()">Restart</button>
      <button (click)="previous()">Previous</button>
      <button (click)="next()">Next</button>
    </div>
    <div id="chart-block">
      <canvas #chartRef *ngIf="funscriptData" width="800" height="200"></canvas>
    </div>
  </div>
</div>